<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Ajouter l'icône favicon -->
    <link rel="icon" href="assets\images\logoWhite.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="assets/css/log.css">
    <title>Connexion - CVDesign</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="w-full flex flex-col md:flex-row bg-white shadow-lg min-h-[120vh]">
        
        <!-- Partie gauche : Formulaire -->
        <div class="w-full md:w-1/2 flex flex-col justify-center bg-[#F0F1F5]">
            <!-- Header -->
            <div class="flex justify-between items-center mb-2 px-8 bg-[#F0F1F5] py-2">
                <img src="assets/images/logo.png" alt="CV Design" class="h-20">
                <a href="inscription.html" class="text-gray-500 text-sm">S'inscrire</a>
            </div>
            <h2 class="text-xl font-semibold text-center">Connexion</h2>
            <p class="text-gray-500 text-center mb-6">Bienvenue de nouveau sur CVDesign</p>
            
            <!-- Formulaire avec box-shadow -->
            <div class="space-y-4 px-8 form-shadow bg-white py-8 rounded-lg">
                <button class="w-full flex items-center border p-2 rounded-lg hover:bg-gray-100 gap-3 btn-social">
                    <img src="https://www.svgrepo.com/show/448234/linkedin.svg" alt="LinkedIn" class="w-6 h-6"> Se connecter avec LinkedIn
                </button>
                <button class="w-full flex items-center border p-2 rounded-lg hover:bg-gray-100 gap-3 btn-social">
                    <img src="https://www.svgrepo.com/show/475647/facebook-color.svg" alt="Facebook" class="w-6 h-6"> Se connecter avec Facebook
                </button>
                <button class="w-full flex items-center border border-[#E9212E] p-2 rounded-lg hover:bg-[#E9212E] hover:bg-opacity-10 gap-3">
                    <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google" class="w-6 h-6"> Se connecter avec Google
                </button>
                
                <div class="mt-4 text-center text-gray-500">Ou se connecter avec son email :</div>
                
                <!-- Formulaire Email et Mot de Passe -->
                <form id="loginForm" class="mt-4 space-y-3">
                    <!-- Email input -->
                    <div class="input-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 w-4 h-4 input-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
                          </svg>                          
                        <input id="loginEmail" type="email" class="w-full p-3 pl-10 border rounded-lg" placeholder="Email">
                    </div>
                    
                    <!-- Mot de passe input -->
                    <div class="input-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 w-4 h-4 input-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                          </svg>                          
                        <input id="loginPassword" type="password" class="w-full p-3 pl-10 border rounded-lg" placeholder="Mot de passe">
                    </div>

                    <!-- Bouton Connexion avec largeur ajustée -->
                    <button type="submit" class="btn-connexion bg-[#E9212E] text-white p-2 rounded-lg hover:bg-[#26272b] mx-auto block">Connexion</button>
                </form>
            </div>
            
            <!-- Footer du formulaire avec la croix -->
            <div class="mt-4 text-center pb-8 bg-[#F0F1F5]">
                <span class="text-gray-500">Pas encore de compte ? </span>
                <a href="inscription.html" class="text-[#E9212E] text-hover-custom">S'inscrire</a>
                <div class="close-icon">
                    <a href="index.html">✖</a> <!-- Croix rouge qui redirige vers la page d'accueil -->
                </div>
            </div>
        </div>

        <!-- Partie droite : Aperçu du CV avec image de fond -->
        <div class="hidden md:flex w-1/2 bg-gray-200 background-cv">
            <!-- L'image de fond est définie dans le CSS -->
        </div>

    </div>

    <script>
        // Soumission du formulaire de connexion
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault(); // Empêcher la soumission par défaut du formulaire
    
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
    
            // Vérifier si les informations de connexion correspondent à celles stockées dans localStorage
            const storedUser = JSON.parse(localStorage.getItem('user'));
    
            if (storedUser) {
                if (storedUser.email === email && storedUser.password === password) {
                    // Si les informations correspondent, rediriger vers index.html
                    window.location.href = 'index.html';
                } else {
                    // Si l'email ou le mot de passe ne correspondent pas
                    alert("Email ou mot de passe incorrect.");
                }
            } else {
                // Si aucun utilisateur n'est trouvé dans localStorage
                alert("Aucun utilisateur trouvé. Veuillez vous inscrire.");
            }
        });
    </script>
    
</body>
</html>